{"version":3,"file":"swc.CMrAhwO5.js","sources":["../../../packages/menu/src/menu.css.js","../../../packages/menu/src/Menu.js","../../../packages/menu/sp-menu.js","../../../packages/menu/src/menu-item.css.js","../../../packages/menu/src/MenuItem.js","../../../packages/menu/sp-menu-item.js"],"sourcesContent":["\"use strict\";import{css as e}from\"@spectrum-web-components/base\";const t=e`\n    :host{--spectrum-menu-item-min-height:var(--spectrum-component-height-100);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-100);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-100);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-100);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-100);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-100);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-100);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-100);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-100);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-75);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-100);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-100);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-medium);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-medium);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-medium);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-medium);--spectrum-menu-item-top-to-action:var(--spectrum-spacing-50);--spectrum-menu-item-top-to-checkbox:var(--spectrum-spacing-50);--spectrum-menu-item-label-line-height:var(--spectrum-line-height-100);--spectrum-menu-item-label-line-height-cjk:var(--spectrum-cjk-line-height-100);--spectrum-menu-item-label-to-description-spacing:var(--spectrum-menu-item-label-to-description);--spectrum-menu-item-focus-indicator-width:var(--spectrum-border-width-200);--spectrum-menu-item-focus-indicator-color:var(--spectrum-blue-800);--spectrum-menu-item-label-to-value-area-min-spacing:var(--spectrum-spacing-100);--spectrum-menu-item-label-content-color-default:var(--spectrum-neutral-content-color-default);--spectrum-menu-item-label-content-color-hover:var(--spectrum-neutral-content-color-hover);--spectrum-menu-item-label-content-color-down:var(--spectrum-neutral-content-color-down);--spectrum-menu-item-label-content-color-focus:var(--spectrum-neutral-content-color-key-focus);--spectrum-menu-item-label-icon-color-default:var(--spectrum-neutral-content-color-default);--spectrum-menu-item-label-icon-color-hover:var(--spectrum-neutral-content-color-hover);--spectrum-menu-item-label-icon-color-down:var(--spectrum-neutral-content-color-down);--spectrum-menu-item-label-icon-color-focus:var(--spectrum-neutral-content-color-key-focus);--spectrum-menu-item-label-content-color-disabled:var(--spectrum-disabled-content-color);--spectrum-menu-item-label-icon-color-disabled:var(--spectrum-disabled-content-color);--spectrum-menu-item-description-line-height:var(--spectrum-line-height-100);--spectrum-menu-item-description-line-height-cjk:var(--spectrum-cjk-line-height-100);--spectrum-menu-item-description-color-default:var(--spectrum-neutral-subdued-content-color-default);--spectrum-menu-item-description-color-hover:var(--spectrum-neutral-subdued-content-color-hover);--spectrum-menu-item-description-color-down:var(--spectrum-neutral-subdued-content-color-down);--spectrum-menu-item-description-color-focus:var(--spectrum-neutral-subdued-content-color-key-focus);--spectrum-menu-item-description-color-disabled:var(--spectrum-disabled-content-color);--spectrum-menu-section-header-line-height:var(--spectrum-line-height-100);--spectrum-menu-section-header-line-height-cjk:var(--spectrum-cjk-line-height-100);--spectrum-menu-section-header-font-weight:var(--spectrum-bold-font-weight);--spectrum-menu-section-header-color:var(--spectrum-gray-900);--spectrum-menu-collapsible-icon-color:var(--spectrum-gray-900);--spectrum-menu-checkmark-icon-color-default:var(--spectrum-accent-color-900);--spectrum-menu-checkmark-icon-color-hover:var(--spectrum-accent-color-1000);--spectrum-menu-checkmark-icon-color-down:var(--spectrum-accent-color-1100);--spectrum-menu-checkmark-icon-color-focus:var(--spectrum-accent-color-1000);--spectrum-menu-drillin-icon-color-default:var(--spectrum-neutral-subdued-content-color-default);--spectrum-menu-drillin-icon-color-hover:var(--spectrum-neutral-subdued-content-color-hover);--spectrum-menu-drillin-icon-color-down:var(--spectrum-neutral-subdued-content-color-down);--spectrum-menu-drillin-icon-color-focus:var(--spectrum-neutral-subdued-content-color-key-focus);--spectrum-menu-item-value-color-default:var(--spectrum-neutral-subdued-content-color-default);--spectrum-menu-item-value-color-hover:var(--spectrum-neutral-subdued-content-color-hover);--spectrum-menu-item-value-color-down:var(--spectrum-neutral-subdued-content-color-down);--spectrum-menu-item-value-color-focus:var(--spectrum-neutral-subdued-content-color-key-focus);--spectrum-menu-checkmark-display-hidden:none;--spectrum-menu-checkmark-display-shown:block;--spectrum-menu-checkmark-display:var(--spectrum-menu-checkmark-display-shown);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-medium);--spectrum-menu-item-collapsible-has-icon-submenu-item-padding-x-start:calc(var(--spectrum-menu-item-label-inline-edge-to-content) + var(--spectrum-menu-item-checkmark-width) + var(--spectrum-menu-item-text-to-control) + var(--spectrum-menu-item-icon-width) + var(--spectrum-menu-item-label-text-to-visual) + var(--spectrum-menu-item-focus-indicator-width));--spectrum-menu-item-collapsible-no-icon-submenu-item-padding-x-start:calc(var(--spectrum-menu-item-label-inline-edge-to-content) + var(--spectrum-menu-item-checkmark-width) + var(--spectrum-menu-item-label-text-to-visual) + var(--spectrum-menu-item-focus-indicator-width))}:host([size=s]){--spectrum-menu-item-min-height:var(--spectrum-component-height-75);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-75);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-75);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-75);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-75);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-75);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-75);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-75);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-75);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-50);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-75);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-75);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-small);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-small);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-small);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-small);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-small)}:host([size=l]){--spectrum-menu-item-min-height:var(--spectrum-component-height-200);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-200);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-200);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-200);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-200);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-200);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-200);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-200);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-200);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-100);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-200);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-200);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-large);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-large);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-large);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-large);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-large)}:host([size=xl]){--spectrum-menu-item-min-height:var(--spectrum-component-height-300);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-300);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-300);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-300);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-300);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-300);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-300);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-300);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-300);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-200);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-300);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-300);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-extra-large);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-extra-large);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-extra-large);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-extra-large);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-extra-large)}@media (forced-colors:active){:host{--highcontrast-menu-item-background-color-default:ButtonFace;--highcontrast-menu-item-color-default:ButtonText;--highcontrast-menu-item-background-color-focus:Highlight;--highcontrast-menu-item-color-focus:HighlightText;--highcontrast-menu-checkmark-icon-color-default:Highlight;--highcontrast-menu-item-color-disabled:GrayText;--highcontrast-menu-item-focus-indicator-color:Highlight;--highcontrast-menu-item-selected-background-color:Highlight;--highcontrast-menu-item-selected-color:HighlightText}@supports (color:SelectedItem){:host{--highcontrast-menu-item-selected-background-color:SelectedItem;--highcontrast-menu-item-selected-color:SelectedItemText}}}:host{inline-size:var(--mod-menu-inline-size,auto);box-sizing:border-box;margin:0;padding:0;list-style-type:none;display:inline-block;overflow:auto}:host:lang(ja),:host:lang(ko),:host:lang(zh){--spectrum-menu-item-label-line-height:var(--mod-menu-item-label-line-height-cjk,var(--spectrum-menu-item-label-line-height-cjk));--spectrum-menu-item-description-line-height:var(--mod-menu-item-description-line-height-cjk,var(--spectrum-menu-item-description-line-height-cjk));--spectrum-menu-section-header-line-height:var(--mod-menu-section-header-line-height-cjk,var(--spectrum-menu-section-header-line-height-cjk))}:host([selects]) ::slotted(sp-menu-item){--spectrum-menu-checkmark-display:var(--spectrum-menu-checkmark-display-hidden);padding-inline-start:var(--mod-menu-item-selectable-edge-to-text-not-selected,var(--spectrum-menu-item-selectable-edge-to-text-not-selected))}:host([selects]) ::slotted(sp-menu-item[selected]){--spectrum-menu-checkmark-display:var(--spectrum-menu-checkmark-display-shown);padding-inline-start:var(--mod-menu-item-label-inline-edge-to-content,var(--spectrum-menu-item-label-inline-edge-to-content))}.spectrum-Menu-back:focus-visible{box-shadow:inset calc(var(--mod-menu-item-focus-indicator-width,var(--spectrum-menu-item-focus-indicator-width))*var(--spectrum-menu-item-focus-indicator-direction-scalar,1))0 0 0 var(--highcontrast-menu-item-focus-indicator-color,var(--mod-menu-item-focus-indicator-color,var(--spectrum-menu-item-focus-indicator-color)))}.spectrum-Menu-sectionHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-section-header-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));min-inline-size:var(--mod-menu-section-header-min-width,var(--spectrum-menu-section-header-min-width));padding-block-start:var(--mod-menu-section-header-top-edge-to-text,var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text)));padding-block-end:var(--mod-menu-section-header-bottom-edge-to-text,var(--mod-menu-item-bottom-edge-to-text,var(--spectrum-menu-item-bottom-edge-to-text)));padding-inline:var(--mod-menu-item-label-inline-edge-to-content,var(--spectrum-menu-item-label-inline-edge-to-content));grid-area:sectionHeadingArea/1/sectionHeadingArea/-1;display:block}.spectrum-Menu-back{padding-inline:var(--mod-menu-back-padding-inline-start,0)var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-block:var(--mod-menu-back-padding-block-start,0)var(--mod-menu-back-padding-block-end,0);flex-flow:wrap;align-items:center;display:flex}.spectrum-Menu-back .spectrum-Menu-sectionHeading{padding:0}.spectrum-Menu-backButton{cursor:pointer;background:0 0;border:0;margin:0;padding:0;display:inline-flex}.spectrum-Menu-backButton:focus-visible{outline:var(--spectrum-focus-indicator-thickness)solid var(--spectrum-focus-indicator-color);outline-offset:calc((var(--spectrum-focus-indicator-thickness) + 1px)*-1)}.spectrum-Menu-backHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-heading-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));display:block}.spectrum-Menu-backIcon{margin-block:var(--mod-menu-back-icon-margin-block,var(--spectrum-menu-back-icon-margin));margin-inline:var(--mod-menu-back-icon-margin-inline,var(--spectrum-menu-back-icon-margin));fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default))}:host{width:var(--swc-menu-width);flex-direction:column;display:inline-flex}:host(:focus){outline:none}::slotted(*){flex-shrink:0}\n`;export default t;\n//# sourceMappingURL=menu.css.js.map\n","\"use strict\";var p=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var l=(r,o,e,s)=>{for(var t=s>1?void 0:s?f(o,e):o,i=r.length-1,n;i>=0;i--)(n=r[i])&&(t=(s?n(o,e,t):n(t))||t);return s&&t&&p(o,e,t),t};import{html as I,SizedMixin as v,SpectrumElement as b}from\"@spectrum-web-components/base\";import{property as a,query as g}from\"@spectrum-web-components/base/src/decorators.js\";import y from\"./menu.css.js\";function S(r,o){return!!o&&(r===o||r.contains(o))}export class Menu extends v(b,{noDefaultSize:!0}){constructor(){super();this.label=\"\";this.ignore=!1;this.value=\"\";this.valueSeparator=\",\";this._selected=[];this.selectedItems=[];this.childItemSet=new Set;this.focusedItemIndex=0;this.focusInItemIndex=0;this.selectedItemsMap=new Map;this.pointerUpTarget=null;this.descendentOverlays=new Map;this.handleSubmenuClosed=e=>{e.stopPropagation(),e.composedPath()[0].dispatchEvent(new Event(\"sp-menu-submenu-closed\",{bubbles:!0,composed:!0}))};this.handleSubmenuOpened=e=>{e.stopPropagation(),e.composedPath()[0].dispatchEvent(new Event(\"sp-menu-submenu-opened\",{bubbles:!0,composed:!0}));const t=this.childItems[this.focusedItemIndex];t&&(t.focused=!1);const i=e.composedPath().find(d=>this.childItemSet.has(d));if(!i)return;const n=this.childItems.indexOf(i);this.focusedItemIndex=n,this.focusInItemIndex=n};this._hasUpdatedSelectedItemIndex=!1;this._willUpdateItems=!1;this.cacheUpdated=Promise.resolve();this.resolveCacheUpdated=()=>{};this.addEventListener(\"sp-menu-item-added-or-updated\",this.onSelectableItemAddedOrUpdated),this.addEventListener(\"sp-menu-item-added-or-updated\",this.onFocusableItemAddedOrUpdated,{capture:!0}),this.addEventListener(\"click\",this.handleClick),this.addEventListener(\"pointerup\",this.handlePointerup),this.addEventListener(\"focusin\",this.handleFocusin),this.addEventListener(\"blur\",this.handleBlur),this.addEventListener(\"sp-opened\",this.handleSubmenuOpened),this.addEventListener(\"sp-closed\",this.handleSubmenuClosed)}static get styles(){return[y]}get isSubmenu(){return this.slot===\"submenu\"}get selected(){return this._selected}set selected(e){if(e===this.selected)return;const s=this.selected;this._selected=e,this.selectedItems=[],this.selectedItemsMap.clear(),this.childItems.forEach(t=>{this===t.menuData.selectionRoot&&(t.selected=this.selected.includes(t.value),t.selected&&(this.selectedItems.push(t),this.selectedItemsMap.set(t,!0)))}),this.requestUpdate(\"selected\",s)}get childItems(){return this.cachedChildItems||(this.cachedChildItems=this.updateCachedMenuItems()),this.cachedChildItems}updateCachedMenuItems(){if(this.cachedChildItems=[],!this.menuSlot)return[];const e=this.menuSlot.assignedElements({flatten:!0});for(const[s,t]of e.entries()){if(this.childItemSet.has(t)){this.cachedChildItems.push(t);continue}const n=t.localName===\"slot\"?t.assignedElements({flatten:!0}):[...t.querySelectorAll(\":scope > *\")];e.splice(s,1,t,...n)}return this.cachedChildItems}get childRole(){if(this.resolvedRole===\"listbox\")return\"option\";switch(this.resolvedSelects){case\"single\":return\"menuitemradio\";case\"multiple\":return\"menuitemcheckbox\";default:return\"menuitem\"}}get ownRole(){return\"menu\"}onFocusableItemAddedOrUpdated(e){e.menuCascade.set(this,{hadFocusRoot:!!e.item.menuData.focusRoot,ancestorWithSelects:e.currentAncestorWithSelects}),this.selects&&(e.currentAncestorWithSelects=this),e.item.menuData.focusRoot=e.item.menuData.focusRoot||this}onSelectableItemAddedOrUpdated(e){var i,n;const s=e.menuCascade.get(this);if(!s)return;if(e.item.menuData.parentMenu=e.item.menuData.parentMenu||this,s.hadFocusRoot&&!this.ignore&&(this.tabIndex=-1),this.addChildItem(e.item),this.selects===\"inherit\"){this.resolvedSelects=\"inherit\";const d=(i=e.currentAncestorWithSelects)==null?void 0:i.ignore;this.resolvedRole=d?\"none\":((n=e.currentAncestorWithSelects)==null?void 0:n.getAttribute(\"role\"))||this.getAttribute(\"role\")||void 0}else this.selects?(this.resolvedRole=this.ignore?\"none\":this.getAttribute(\"role\")||void 0,this.resolvedSelects=this.selects):(this.resolvedRole=this.ignore?\"none\":this.getAttribute(\"role\")||void 0,this.resolvedSelects=this.resolvedRole===\"none\"?\"ignore\":\"none\");const t=this.resolvedSelects===\"single\"||this.resolvedSelects===\"multiple\";e.item.menuData.cleanupSteps.push(d=>this.removeChildItem(d)),(t||!this.selects&&this.resolvedSelects!==\"ignore\")&&!e.item.menuData.selectionRoot&&(e.item.setRole(this.childRole),e.item.menuData.selectionRoot=e.item.menuData.selectionRoot||this,e.item.selected&&(this.selectedItemsMap.set(e.item,!0),this.selectedItems=[...this.selectedItems,e.item],this._selected=[...this.selected,e.item.value],this.value=this.selected.join(this.valueSeparator)))}addChildItem(e){this.childItemSet.add(e),this.handleItemsChanged()}async removeChildItem(e){this.childItemSet.delete(e),this.cachedChildItems=void 0,e.focused&&(this.handleItemsChanged(),await this.updateComplete,this.focus())}focus({preventScroll:e}={}){if(!this.childItems.length||this.childItems.every(t=>t.disabled))return;if(this.childItems.some(t=>t.menuData.focusRoot!==this)){super.focus({preventScroll:e});return}this.focusMenuItemByOffset(0),super.focus({preventScroll:e});const s=this.selectedItems[0];s&&!e&&s.scrollIntoView({block:\"nearest\"})}handleClick(e){if(this.pointerUpTarget===e.target){this.pointerUpTarget=null;return}this.handlePointerBasedSelection(e)}handlePointerup(e){this.pointerUpTarget=e.target,this.handlePointerBasedSelection(e)}handlePointerBasedSelection(e){var i,n;if(e instanceof MouseEvent&&e.button!==0)return;const t=e.composedPath().find(d=>d instanceof Element?d.getAttribute(\"role\")===this.childRole:!1);if(e.defaultPrevented){const d=this.childItems.indexOf(t);((i=t==null?void 0:t.menuData)==null?void 0:i.focusRoot)===this&&d>-1&&(this.focusedItemIndex=d);return}if(t!=null&&t.href&&t.href.length){this.dispatchEvent(new Event(\"change\",{bubbles:!0,composed:!0}));return}else if(((n=t==null?void 0:t.menuData)==null?void 0:n.selectionRoot)===this&&this.childItems.length){if(e.preventDefault(),t.hasSubmenu||t.open)return;this.selectOrToggleItem(t)}else return;this.prepareToCleanUp()}handleFocusin(e){var i;if(this.childItems.some(n=>n.menuData.focusRoot!==this))return;const s=this.getRootNode().activeElement,t=((i=this.childItems[this.focusedItemIndex])==null?void 0:i.menuData.selectionRoot)||this;if((s!==t||e.target!==this)&&(t.focus({preventScroll:!0}),s&&this.focusedItemIndex===0)){const n=this.childItems.findIndex(d=>d===s);this.focusMenuItemByOffset(Math.max(n,0))}this.startListeningToKeyboard()}startListeningToKeyboard(){this.addEventListener(\"keydown\",this.handleKeydown)}handleBlur(e){S(this,e.relatedTarget)||(this.stopListeningToKeyboard(),this.childItems.forEach(s=>s.focused=!1),this.removeAttribute(\"aria-activedescendant\"))}stopListeningToKeyboard(){this.removeEventListener(\"keydown\",this.handleKeydown)}handleDescendentOverlayOpened(e){const s=e.composedPath()[0];s.overlayElement&&this.descendentOverlays.set(s.overlayElement,s.overlayElement)}handleDescendentOverlayClosed(e){const s=e.composedPath()[0];s.overlayElement&&this.descendentOverlays.delete(s.overlayElement)}async selectOrToggleItem(e){const s=this.resolvedSelects,t=new Map(this.selectedItemsMap),i=this.selected.slice(),n=this.selectedItems.slice(),d=this.value,c=this.childItems[this.focusedItemIndex];if(c&&(c.focused=!1,c.active=!1),this.focusedItemIndex=this.childItems.indexOf(e),this.forwardFocusVisibleToItem(e),s===\"multiple\"){this.selectedItemsMap.has(e)?this.selectedItemsMap.delete(e):this.selectedItemsMap.set(e,!0);const h=[],m=[];this.childItemSet.forEach(u=>{u.menuData.selectionRoot===this&&this.selectedItemsMap.has(u)&&(h.push(u.value),m.push(u))}),this._selected=h,this.selectedItems=m,this.value=this.selected.join(this.valueSeparator)}else this.selectedItemsMap.clear(),this.selectedItemsMap.set(e,!0),this.value=e.value,this._selected=[e.value],this.selectedItems=[e];if(!this.dispatchEvent(new Event(\"change\",{cancelable:!0,bubbles:!0,composed:!0}))){this._selected=i,this.selectedItems=n,this.selectedItemsMap=t,this.value=d;return}if(s===\"single\"){for(const h of t.keys())h!==e&&(h.selected=!1);e.selected=!0}else s===\"multiple\"&&(e.selected=!e.selected)}navigateWithinMenu(e){const{key:s}=e,t=this.childItems[this.focusedItemIndex],i=s===\"ArrowDown\"?1:-1,n=this.focusMenuItemByOffset(i);n!==t&&(e.preventDefault(),e.stopPropagation(),n.scrollIntoView({block:\"nearest\"}))}navigateBetweenRelatedMenus(e){const{key:s}=e;e.stopPropagation();const t=this.isLTR&&s===\"ArrowRight\"||!this.isLTR&&s===\"ArrowLeft\",i=this.isLTR&&s===\"ArrowLeft\"||!this.isLTR&&s===\"ArrowRight\";if(t){const n=this.childItems[this.focusedItemIndex];n!=null&&n.hasSubmenu&&n.openOverlay()}else i&&this.isSubmenu&&(this.dispatchEvent(new Event(\"close\",{bubbles:!0})),this.updateSelectedItemIndex())}handleKeydown(e){if(e.defaultPrevented)return;const s=this.childItems[this.focusedItemIndex];s&&(s.focused=!0);const{key:t}=e;if(e.shiftKey&&e.target!==this&&this.hasAttribute(\"tabindex\")){this.removeAttribute(\"tabindex\");const i=n=>{!n.shiftKey&&!this.hasAttribute(\"tabindex\")&&(this.tabIndex=0,document.removeEventListener(\"keyup\",i),this.removeEventListener(\"focusout\",i))};document.addEventListener(\"keyup\",i),this.addEventListener(\"focusout\",i)}if(t===\"Tab\"){this.prepareToCleanUp();return}if(t===\" \"&&s!=null&&s.hasSubmenu){s.openOverlay();return}if(t===\" \"||t===\"Enter\"){const i=this.childItems[this.focusedItemIndex];i&&i.menuData.selectionRoot===e.target&&(e.preventDefault(),i.click());return}if(t===\"ArrowDown\"||t===\"ArrowUp\"){const i=this.childItems[this.focusedItemIndex];i&&i.menuData.selectionRoot===e.target&&this.navigateWithinMenu(e);return}this.navigateBetweenRelatedMenus(e)}focusMenuItemByOffset(e){const s=e||1,t=this.childItems[this.focusedItemIndex];t&&(t.focused=!1,t.active=t.open),this.focusedItemIndex=(this.childItems.length+this.focusedItemIndex+e)%this.childItems.length;let i=this.childItems[this.focusedItemIndex],n=this.childItems.length;for(;i!=null&&i.disabled&&n;)n-=1,this.focusedItemIndex=(this.childItems.length+this.focusedItemIndex+s)%this.childItems.length,i=this.childItems[this.focusedItemIndex];return i!=null&&i.disabled||this.forwardFocusVisibleToItem(i),i}prepareToCleanUp(){document.addEventListener(\"focusout\",()=>{requestAnimationFrame(()=>{const e=this.childItems[this.focusedItemIndex];e&&(e.focused=!1,this.updateSelectedItemIndex())})},{once:!0})}updateSelectedItemIndex(){let e=0;const s=new Map,t=[],i=[];let n=this.childItems.length;for(;n;){n-=1;const d=this.childItems[n];d.menuData.selectionRoot===this&&((d.selected||!this._hasUpdatedSelectedItemIndex&&this.selected.includes(d.value))&&(e=n,s.set(d,!0),t.unshift(d.value),i.unshift(d)),n!==e&&(d.focused=!1))}i.map((d,c)=>{c>0&&(d.focused=!1)}),this.selectedItemsMap=s,this._selected=t,this.selectedItems=i,this.value=this.selected.join(this.valueSeparator),this.focusedItemIndex=e,this.focusInItemIndex=e}handleItemsChanged(){this.cachedChildItems=void 0,this._willUpdateItems||(this._willUpdateItems=!0,this.cacheUpdated=this.updateCache())}async updateCache(){this.hasUpdated?await new Promise(e=>requestAnimationFrame(()=>e(!0))):await Promise.all([new Promise(e=>requestAnimationFrame(()=>e(!0))),this.updateComplete]),this.cachedChildItems===void 0&&(this.updateSelectedItemIndex(),this.updateItemFocus()),this._willUpdateItems=!1}updateItemFocus(){if(this.childItems.length==0)return;const e=this.childItems[this.focusInItemIndex];this.getRootNode().activeElement===e.menuData.focusRoot&&this.forwardFocusVisibleToItem(e)}closeDescendentOverlays(){this.descendentOverlays.forEach(e=>{e.open=!1}),this.descendentOverlays=new Map}forwardFocusVisibleToItem(e){if(!e||e.menuData.focusRoot!==this)return;this.closeDescendentOverlays();const s=this.hasVisibleFocusInTree()||!!this.childItems.find(t=>t.hasVisibleFocusInTree());e.focused=s,this.setAttribute(\"aria-activedescendant\",e.id),e.menuData.selectionRoot&&e.menuData.selectionRoot!==this&&e.menuData.selectionRoot.focus()}handleSlotchange({target:e}){const s=e.assignedElements({flatten:!0});this.childItems.length!==s.length&&s.forEach(t=>{typeof t.triggerUpdate!=\"undefined\"?t.triggerUpdate():typeof t.childItems!=\"undefined\"&&t.childItems.forEach(i=>{i.triggerUpdate()})})}renderMenuItemSlot(){return I`\n            <slot\n                @sp-menu-submenu-opened=${this.handleDescendentOverlayOpened}\n                @sp-menu-submenu-closed=${this.handleDescendentOverlayClosed}\n                @slotchange=${this.handleSlotchange}\n            ></slot>\n        `}render(){return this.renderMenuItemSlot()}firstUpdated(e){super.firstUpdated(e),!this.hasAttribute(\"tabindex\")&&!this.ignore&&(this.getAttribute(\"role\")===\"group\"?this.tabIndex=-1:this.tabIndex=0);const s=[new Promise(t=>requestAnimationFrame(()=>t(!0)))];[...this.children].forEach(t=>{t.localName===\"sp-menu-item\"&&s.push(t.updateComplete)}),this.childItemsUpdated=Promise.all(s)}updated(e){super.updated(e),e.has(\"selects\")&&this.hasUpdated&&this.selectsChanged(),e.has(\"label\")&&(this.label||typeof e.get(\"label\")!=\"undefined\")&&(this.label?this.setAttribute(\"aria-label\",this.label):this.removeAttribute(\"aria-label\"))}selectsChanged(){const e=[new Promise(s=>requestAnimationFrame(()=>s(!0)))];this.childItemSet.forEach(s=>{e.push(s.triggerUpdate())}),this.childItemsUpdated=Promise.all(e)}connectedCallback(){super.connectedCallback(),!this.hasAttribute(\"role\")&&!this.ignore&&this.setAttribute(\"role\",this.ownRole),this.updateComplete.then(()=>this.updateItemFocus())}disconnectedCallback(){this.cachedChildItems=void 0,this.selectedItems=[],this.selectedItemsMap.clear(),this.childItemSet.clear(),this.descendentOverlays=new Map,super.disconnectedCallback()}async getUpdateComplete(){const e=await super.getUpdateComplete();return await this.childItemsUpdated,await this.cacheUpdated,e}}l([a({type:String,reflect:!0})],Menu.prototype,\"label\",2),l([a({type:Boolean,reflect:!0})],Menu.prototype,\"ignore\",2),l([a({type:String,reflect:!0})],Menu.prototype,\"selects\",2),l([a({type:String})],Menu.prototype,\"value\",2),l([a({type:String,attribute:\"value-separator\"})],Menu.prototype,\"valueSeparator\",2),l([a({attribute:!1})],Menu.prototype,\"selected\",1),l([a({attribute:!1})],Menu.prototype,\"selectedItems\",2),l([g(\"slot:not([name])\")],Menu.prototype,\"menuSlot\",2);\n//# sourceMappingURL=Menu.js.map\n","\"use strict\";import{Menu as e}from\"./src/Menu.js\";import{defineElement as m}from\"@spectrum-web-components/base/src/define-element.js\";m(\"sp-menu\",e);\n//# sourceMappingURL=sp-menu.js.map\n","\"use strict\";import{css as e}from\"@spectrum-web-components/base\";const o=e`\n    .checkmark{display:var(--mod-menu-checkmark-display,var(--spectrum-menu-checkmark-display));fill:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-default,var(--spectrum-menu-checkmark-icon-color-default)));color:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-default,var(--spectrum-menu-checkmark-icon-color-default)));opacity:1;align-self:center}.spectrum-Menu-back:focus-visible{box-shadow:inset calc(var(--mod-menu-item-focus-indicator-width,var(--spectrum-menu-item-focus-indicator-width))*var(--spectrum-menu-item-focus-indicator-direction-scalar,1))0 0 0 var(--highcontrast-menu-item-focus-indicator-color,var(--mod-menu-item-focus-indicator-color,var(--spectrum-menu-item-focus-indicator-color)))}.checkmark{block-size:var(--mod-menu-item-checkmark-height,var(--spectrum-menu-item-checkmark-height));inline-size:var(--mod-menu-item-checkmark-width,var(--spectrum-menu-item-checkmark-width));grid-area:checkmarkArea;align-self:start;margin-block-start:calc(var(--mod-menu-item-top-to-checkmark,var(--spectrum-menu-item-top-to-checkmark)) - var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text)));margin-inline-end:var(--mod-menu-item-text-to-control,var(--spectrum-menu-item-text-to-control))}.spectrum-Menu-back{padding-inline:var(--mod-menu-back-padding-inline-start,0)var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-block:var(--mod-menu-back-padding-block-start,0)var(--mod-menu-back-padding-block-end,0);flex-flow:wrap;align-items:center;display:flex}.spectrum-Menu-backButton{cursor:pointer;background:0 0;border:0;margin:0;padding:0;display:inline-flex}.spectrum-Menu-backButton:focus-visible{outline:var(--spectrum-focus-indicator-thickness)solid var(--spectrum-focus-indicator-color);outline-offset:calc((var(--spectrum-focus-indicator-thickness) + 1px)*-1)}.spectrum-Menu-backHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-heading-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));display:block}.spectrum-Menu-backIcon{margin-block:var(--mod-menu-back-icon-margin-block,var(--spectrum-menu-back-icon-margin));margin-inline:var(--mod-menu-back-icon-margin-inline,var(--spectrum-menu-back-icon-margin));fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default))}.spectrum-Menu-back:focus-visible{box-shadow:inset calc(var(--mod-menu-item-focus-indicator-width,var(--spectrum-menu-item-focus-indicator-width))*var(--spectrum-menu-item-focus-indicator-direction-scalar,1))0 0 0 var(--highcontrast-menu-item-focus-indicator-color,var(--mod-menu-item-focus-indicator-color,var(--spectrum-menu-item-focus-indicator-color)))}.chevron{block-size:var(--spectrum-menu-item-checkmark-height);inline-size:var(--spectrum-menu-item-checkmark-width);grid-area:chevronArea;align-self:center;margin-inline-end:var(--mod-menu-item-text-to-control,var(--spectrum-menu-item-text-to-control))}.chevron:dir(rtl),:host([dir=rtl]) .chevron{transform:rotate(-180deg)}.spectrum-Menu-back{padding-inline:var(--mod-menu-back-padding-inline-start,0)var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-block:var(--mod-menu-back-padding-block-start,0)var(--mod-menu-back-padding-block-end,0);flex-flow:wrap;align-items:center;display:flex}.spectrum-Menu-backButton{cursor:pointer;background:0 0;border:0;margin:0;padding:0;display:inline-flex}.spectrum-Menu-backButton:focus-visible{outline:var(--spectrum-focus-indicator-thickness)solid var(--spectrum-focus-indicator-color);outline-offset:calc((var(--spectrum-focus-indicator-thickness) + 1px)*-1)}.spectrum-Menu-backHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-heading-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));display:block}.spectrum-Menu-backIcon{margin-block:var(--mod-menu-back-icon-margin-block,var(--spectrum-menu-back-icon-margin));margin-inline:var(--mod-menu-back-icon-margin-inline,var(--spectrum-menu-back-icon-margin));fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default))}::slotted([slot=icon]){fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-label-icon-color-default,var(--spectrum-menu-item-label-icon-color-default)));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-label-icon-color-default,var(--spectrum-menu-item-label-icon-color-default)))}.checkmark{display:var(--mod-menu-checkmark-display,var(--spectrum-menu-checkmark-display));fill:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-default,var(--spectrum-menu-checkmark-icon-color-default)));color:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-default,var(--spectrum-menu-checkmark-icon-color-default)));opacity:1;align-self:center}:host{cursor:pointer;box-sizing:border-box;background-color:var(--highcontrast-menu-item-background-color-default,var(--mod-menu-item-background-color-default,var(--spectrum-menu-item-background-color-default)));line-height:var(--mod-menu-item-label-line-height,var(--spectrum-menu-item-label-line-height));min-block-size:var(--mod-menu-item-min-height,var(--spectrum-menu-item-min-height));padding-block-start:var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text));padding-block-end:var(--mod-menu-item-bottom-edge-to-text,var(--spectrum-menu-item-bottom-edge-to-text));padding-inline:var(--mod-menu-item-label-inline-edge-to-content,var(--spectrum-menu-item-label-inline-edge-to-content));align-items:center;margin:0;-webkit-text-decoration:none;text-decoration:none;position:relative}.spectrum-Menu-itemCheckbox{--mod-checkbox-top-to-text:0;--mod-checkbox-text-to-control:0;min-block-size:0}.spectrum-Menu-itemCheckbox .spectrum-Checkbox-box{margin-block-start:var(--mod-menu-item-top-to-checkbox,var(--spectrum-menu-item-top-to-checkbox));margin-block-end:0;margin-inline-end:var(--mod-menu-item-text-to-control,var(--spectrum-menu-item-text-to-control))}.spectrum-Menu-itemSwitch{min-block-size:0}.spectrum-Menu-itemSwitch .spectrum-Switch-switch{margin-block-start:var(--mod-menu-item-top-to-action,var(--spectrum-menu-item-top-to-action));margin-block-end:0}:host{grid-template:\".chevronAreaCollapsible.headingIconArea sectionHeadingArea. . .\"1fr\"selectedArea chevronAreaCollapsible checkmarkArea iconArea labelArea valueArea actionsArea chevronAreaDrillIn\"\". . . .descriptionArea. . .\"\". . . .submenuArea. . .\"/auto auto auto auto 1fr auto auto auto;display:grid}#label{grid-area:submenuItemLabelArea}::slotted([slot=value]){grid-area:submenuItemValueArea}:host([focused]),:host(:focus){background-color:var(--highcontrast-menu-item-background-color-focus,var(--mod-menu-item-background-color-key-focus,var(--spectrum-menu-item-background-color-key-focus)));outline:none}:host([focused])>#label,:host(:focus)>#label{color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-content-color-focus,var(--spectrum-menu-item-label-content-color-focus)))}:host([focused])>[name=description]::slotted(*),:host(:focus)>[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-description-color-focus,var(--spectrum-menu-item-description-color-focus)))}:host([focused])>::slotted([slot=value]),:host(:focus)>::slotted([slot=value]){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-value-color-focus,var(--spectrum-menu-item-value-color-focus)))}:host([focused])>.icon:not(.chevron,.checkmark),:host(:focus)>.icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-focus,var(--spectrum-menu-item-label-icon-color-focus)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-focus,var(--spectrum-menu-item-label-icon-color-focus)))}:host([focused])>.chevron,:host(:focus)>.chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)))}:host([focused])>.checkmark,:host(:focus)>.checkmark{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-focus,var(--spectrum-menu-checkmark-icon-color-focus)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-focus,var(--spectrum-menu-checkmark-icon-color-focus)))}:host([focused]) .spectrum-Menu-back,:host([focused]){box-shadow:inset calc(var(--mod-menu-item-focus-indicator-width,var(--spectrum-menu-item-focus-indicator-width))*var(--spectrum-menu-item-focus-indicator-direction-scalar,1))0 0 0 var(--highcontrast-menu-item-focus-indicator-color,var(--mod-menu-item-focus-indicator-color,var(--spectrum-menu-item-focus-indicator-color)))}:host:dir(rtl),:host([dir=rtl]){--spectrum-menu-item-focus-indicator-direction-scalar:-1}:host(:is(:active,[active])){background-color:var(--highcontrast-menu-item-background-color-focus,var(--mod-menu-item-background-color-down,var(--spectrum-menu-item-background-color-down)))}:host(:is(:active,[active]))>#label{color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-content-color-down,var(--spectrum-menu-item-label-content-color-down)))}:host(:is(:active,[active]))>[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-description-color-down,var(--spectrum-menu-item-description-color-down)))}:host(:is(:active,[active]))>::slotted([slot=value]){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-value-color-down,var(--spectrum-menu-item-value-color-down)))}:host(:is(:active,[active]))>.icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-down,var(--spectrum-menu-item-label-icon-color-down)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-down,var(--spectrum-menu-item-label-icon-color-down)))}:host(:is(:active,[active]))>.chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)))}:host(:is(:active,[active]))>.checkmark{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-down,var(--spectrum-menu-checkmark-icon-color-down)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-down,var(--spectrum-menu-checkmark-icon-color-down)))}::slotted([slot=icon]){grid-area:iconArea;align-self:start}.spectrum-Menu-item--collapsible ::slotted([slot=icon]){grid-area:headingIconArea}:host .is-selectableMultiple{align-items:start}.is-selectableMultiple .spectrum-Menu-itemCheckbox{grid-area:checkmarkArea}.checkmark{grid-area:checkmarkArea;align-self:start}.spectrum-Menu-itemSelection{grid-area:selectedArea}#label{font-size:var(--mod-menu-item-label-font-size,var(--spectrum-menu-item-label-font-size));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-label-content-color-default,var(--spectrum-menu-item-label-content-color-default)));grid-area:labelArea}::slotted([slot=value]){grid-area:valueArea}.spectrum-Menu-itemActions{grid-area:actionsArea;align-self:start;margin-inline-start:var(--mod-menu-item-label-to-value-area-min-spacing,var(--spectrum-menu-item-label-to-value-area-min-spacing))}.chevron{block-size:var(--spectrum-menu-item-checkmark-height);inline-size:var(--spectrum-menu-item-checkmark-width);grid-area:chevronArea;align-self:center}.spectrum-Menu-item--collapsible .chevron{grid-area:chevronAreaCollapsible}[name=description]::slotted(*){grid-area:descriptionArea}:host([has-submenu]) .chevron{grid-area:chevronAreaDrillIn}.icon:not(.chevron,.checkmark){block-size:var(--mod-menu-item-icon-height,var(--spectrum-menu-item-icon-height));inline-size:var(--mod-menu-item-icon-width,var(--spectrum-menu-item-icon-width))}.checkmark{block-size:var(--mod-menu-item-checkmark-height,var(--spectrum-menu-item-checkmark-height));inline-size:var(--mod-menu-item-checkmark-width,var(--spectrum-menu-item-checkmark-width));margin-block-start:calc(var(--mod-menu-item-top-to-checkmark,var(--spectrum-menu-item-top-to-checkmark)) - var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text)));margin-inline-end:var(--mod-menu-item-text-to-control,var(--spectrum-menu-item-text-to-control))}::slotted([slot=icon]){margin-inline-end:var(--mod-menu-item-label-text-to-visual,var(--spectrum-menu-item-label-text-to-visual))}.chevron{margin-inline-end:var(--mod-menu-item-text-to-control,var(--spectrum-menu-item-text-to-control))}[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-description-color-default,var(--spectrum-menu-item-description-color-default)));font-size:var(--mod-menu-item-description-font-size,var(--spectrum-menu-item-description-font-size));line-height:var(--mod-menu-item-description-line-height,var(--spectrum-menu-item-description-line-height));margin-block-start:var(--mod-menu-item-label-to-description-spacing,var(--spectrum-menu-item-label-to-description-spacing))}[name=description]::slotted(*),#label{hyphens:auto;overflow-wrap:break-word}::slotted([slot=value]){color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-value-color-default,var(--spectrum-menu-item-value-color-default)));font-size:var(--mod-menu-item-label-font-size,var(--spectrum-menu-item-label-font-size));place-self:start end;margin-inline-start:var(--mod-menu-item-label-to-value-area-min-spacing,var(--spectrum-menu-item-label-to-value-area-min-spacing))}:host([no-wrap]) #label{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.spectrum-Menu-item--collapsible.is-open{padding-block-end:0}.spectrum-Menu-item--collapsible.is-open .chevron{transform:rotate(90deg)}:host([focused]) .spectrum-Menu-item--collapsible.is-open,:host(:is(:active,[active])) .spectrum-Menu-item--collapsible.is-open,.spectrum-Menu-item--collapsible.is-open:focus{background-color:var(--highcontrast-menu-item-background-color-default,var(--mod-menu-item-background-color-default,var(--spectrum-menu-item-background-color-default)))}.spectrum-Menu-item--collapsible>::slotted([slot=icon]){padding-block-start:var(--mod-menu-section-header-top-edge-to-text,var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text)));padding-block-end:var(--mod-menu-section-header-bottom-edge-to-text,var(--mod-menu-item-bottom-edge-to-text,var(--spectrum-menu-item-bottom-edge-to-text)))}.chevron:dir(rtl),:host([dir=rtl]) .chevron{transform:rotate(-180deg)}:host([has-submenu]) .chevron{fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-drillin-icon-color-default,var(--spectrum-menu-drillin-icon-color-default)));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-drillin-icon-color-default,var(--spectrum-menu-drillin-icon-color-default)));margin-inline-start:var(--mod-menu-item-label-to-value-area-min-spacing,var(--spectrum-menu-item-label-to-value-area-min-spacing));margin-inline-end:0}:host([has-submenu]) .is-open{--spectrum-menu-item-background-color-default:var(--highcontrast-menu-item-selected-background-color,var(--mod-menu-item-background-color-hover,var(--spectrum-menu-item-background-color-hover)))}:host([has-submenu]) .is-open .icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)))}:host([has-submenu]) .is-open .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)))}:host([has-submenu]) .is-open .checkmark{fill:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)));color:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)))}:host([has-submenu][focused]) .chevron,:host([has-submenu]:focus) .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-focus,var(--spectrum-menu-drillin-icon-color-focus)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-focus,var(--spectrum-menu-drillin-icon-color-focus)))}:host([has-submenu]:is(:active,[active])) .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-down,var(--spectrum-menu-drillin-icon-color-down)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-down,var(--spectrum-menu-drillin-icon-color-down)))}:host([disabled]),:host([aria-disabled=true]){background-color:initial}:host([disabled]) #label,:host([disabled]) ::slotted([slot=value]),:host([aria-disabled=true]) #label,:host([aria-disabled=true]) ::slotted([slot=value]){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-content-color-disabled,var(--spectrum-menu-item-label-content-color-disabled)))}:host([disabled]) [name=description]::slotted(*),:host([aria-disabled=true]) [name=description]::slotted(*){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-description-color-disabled,var(--spectrum-menu-item-description-color-disabled)))}:host([disabled]) ::slotted([slot=icon]),:host([aria-disabled=true]) ::slotted([slot=icon]){fill:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)));color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)))}@media (hover:hover){:host(:hover){background-color:var(--highcontrast-menu-item-background-color-focus,var(--mod-menu-item-background-color-hover,var(--spectrum-menu-item-background-color-hover)))}:host(:hover)>#label{color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-content-color-hover,var(--spectrum-menu-item-label-content-color-hover)))}:host(:hover)>[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-description-color-hover,var(--spectrum-menu-item-description-color-hover)))}:host(:hover)>::slotted([slot=value]){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-value-color-hover,var(--spectrum-menu-item-value-color-hover)))}:host(:hover)>.icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)))}:host(:hover)>.chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)))}:host(:hover)>.checkmark{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)))}.spectrum-Menu-item--collapsible.is-open:hover{background-color:var(--highcontrast-menu-item-background-color-default,var(--mod-menu-item-background-color-default,var(--spectrum-menu-item-background-color-default)))}:host([has-submenu]:hover) .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)))}:host([disabled]:hover),:host([aria-disabled=true]:hover){cursor:default;background-color:initial}:host([disabled]:hover) #label,:host([disabled]:hover) ::slotted([slot=value]),:host([aria-disabled=true]:hover) #label,:host([aria-disabled=true]:hover) ::slotted([slot=value]){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-content-color-disabled,var(--spectrum-menu-item-label-content-color-disabled)))}:host([disabled]:hover) [name=description]::slotted(*),:host([aria-disabled=true]:hover) [name=description]::slotted(*){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-description-color-disabled,var(--spectrum-menu-item-description-color-disabled)))}:host([disabled]:hover) ::slotted([slot=icon]),:host([aria-disabled=true]:hover) ::slotted([slot=icon]){fill:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)));color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)))}}.spectrum-Menu-back{padding-inline:var(--mod-menu-back-padding-inline-start,0)var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-block:var(--mod-menu-back-padding-block-start,0)var(--mod-menu-back-padding-block-end,0);flex-flow:wrap;align-items:center;display:flex}.spectrum-Menu-backButton{cursor:pointer;background:0 0;border:0;margin:0;padding:0;display:inline-flex}:host([focused]) .spectrum-Menu-backButton{outline:var(--spectrum-focus-indicator-thickness)solid var(--spectrum-focus-indicator-color);outline-offset:calc((var(--spectrum-focus-indicator-thickness) + 1px)*-1)}.spectrum-Menu-backHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-heading-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));display:block}.spectrum-Menu-backIcon{margin-block:var(--mod-menu-back-icon-margin-block,var(--spectrum-menu-back-icon-margin));margin-inline:var(--mod-menu-back-icon-margin-inline,var(--spectrum-menu-back-icon-margin));fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default))}:host([hidden]){display:none}:host([disabled]){pointer-events:none}:host([disabled]) [name=value]::slotted(*){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)))}:host([has-submenu][disabled]) .chevron{color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)))}#button{position:absolute;inset:0}:host([dir=ltr]) [icon-only]::slotted(:last-of-type){margin-right:auto}:host([dir=rtl]) [icon-only]::slotted(:last-of-type){margin-left:auto}@media (forced-colors:active){:host{forced-color-adjust:none}}::slotted([slot=submenu]){width:max-content;max-width:100%}:host([no-wrap]) #label{display:block}\n`;export default o;\n//# sourceMappingURL=menu-item.css.js.map\n","\"use strict\";var h=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var r=(a,s,e,t)=>{for(var n=t>1?void 0:t?p(s,e):s,i=a.length-1,d;i>=0;i--)(d=a[i])&&(n=(t?d(s,e,n):d(n))||n);return t&&n&&h(s,e,n),n};import{html as l,nothing as c}from\"@spectrum-web-components/base\";import{ObserveSlotPresence as m,ObserveSlotText as v,randomID as b}from\"@spectrum-web-components/shared\";import{property as o,query as u}from\"@spectrum-web-components/base/src/decorators.js\";import\"@spectrum-web-components/icons-ui/icons/sp-icon-checkmark100.js\";import{LikeAnchor as f}from\"@spectrum-web-components/shared/src/like-anchor.js\";import{Focusable as E}from\"@spectrum-web-components/shared/src/focusable.js\";import\"@spectrum-web-components/icons-ui/icons/sp-icon-chevron100.js\";import y from\"@spectrum-web-components/icon/src/spectrum-icon-chevron.css.js\";import{DependencyManagerController as S}from\"@spectrum-web-components/reactive-controllers/src/DependencyManger.js\";import g from\"./menu-item.css.js\";import C from\"@spectrum-web-components/icon/src/spectrum-icon-checkmark.css.js\";import{MutationController as M}from\"@lit-labs/observers/mutation-controller.js\";import{SlottableRequestEvent as T}from\"@spectrum-web-components/overlay/src/slottable-request-event.js\";const L=100;export class MenuItemAddedOrUpdatedEvent extends Event{constructor(e){super(\"sp-menu-item-added-or-updated\",{bubbles:!0,composed:!0});this.menuCascade=new WeakMap;this.clear(e)}clear(e){this._item=e,this.currentAncestorWithSelects=void 0,e.menuData={cleanupSteps:[],focusRoot:void 0,selectionRoot:void 0,parentMenu:void 0},this.menuCascade=new WeakMap}get item(){return this._item}}export class MenuItem extends f(v(m(E,'[slot=\"icon\"]'))){constructor(){super();this.active=!1;this.dependencyManager=new S(this);this.focused=!1;this.selected=!1;this._value=\"\";this.hasSubmenu=!1;this.noWrap=!1;this.open=!1;this.handleSlottableRequest=e=>{var t;(t=this.submenuElement)==null||t.dispatchEvent(new T(e.name,e.data))};this.proxyFocus=()=>{this.focus()};this.handleBeforetoggle=e=>{e.newState===\"closed\"&&(this.open=!0,this.overlayElement.manuallyKeepOpen(),this.overlayElement.removeEventListener(\"beforetoggle\",this.handleBeforetoggle))};this.recentlyLeftChild=!1;this.willDispatchUpdate=!1;this.menuData={focusRoot:void 0,parentMenu:void 0,selectionRoot:void 0,cleanupSteps:[]};this.addEventListener(\"click\",this.handleClickCapture,{capture:!0}),new M(this,{config:{characterData:!0,childList:!0,subtree:!0},callback:e=>{e.every(n=>n.target.slot===\"submenu\")||this.breakItemChildrenCache()}})}static get styles(){return[g,C,y]}get value(){return this._value||this.itemText}set value(e){e!==this._value&&(this._value=e||\"\",this._value?this.setAttribute(\"value\",this._value):this.removeAttribute(\"value\"))}get itemText(){return this.itemChildren.content.reduce((e,t)=>e+(t.textContent||\"\").trim(),\"\")}get focusElement(){return this}get hasIcon(){return this.slotContentIsPresent}get itemChildren(){if(!this.iconSlot||!this.contentSlot)return{icon:[],content:[]};if(this._itemChildren)return this._itemChildren;const e=this.iconSlot.assignedElements().map(n=>{const i=n.cloneNode(!0);return i.removeAttribute(\"slot\"),i.classList.toggle(\"icon\"),i}),t=this.contentSlot.assignedNodes().map(n=>n.cloneNode(!0));return this._itemChildren={icon:e,content:t},this._itemChildren}click(){this.disabled||this.shouldProxyClick()||super.click()}handleClickCapture(e){if(this.disabled)return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1}shouldProxyClick(){let e=!1;return this.anchorElement&&(this.anchorElement.click(),e=!0),e}breakItemChildrenCache(){this._itemChildren=void 0,this.triggerUpdate()}renderSubmenu(){const e=l`\n            <slot\n                name=\"submenu\"\n                @slotchange=${this.manageSubmenu}\n                @sp-menu-item-added-or-updated=${{handleEvent:t=>{t.clear(t.item)},capture:!0}}\n                @focusin=${t=>t.stopPropagation()}\n            ></slot>\n        `;return this.hasSubmenu?(this.dependencyManager.add(\"sp-overlay\"),this.dependencyManager.add(\"sp-popover\"),import(\"@spectrum-web-components/overlay/sp-overlay.js\"),import(\"@spectrum-web-components/popover/sp-popover.js\"),l`\n            <sp-overlay\n                .triggerElement=${this}\n                ?disabled=${!this.hasSubmenu}\n                ?open=${this.hasSubmenu&&this.open&&this.dependencyManager.loaded}\n                .placement=${this.isLTR?\"right-start\":\"left-start\"}\n                .offset=${[-10,-5]}\n                .type=${\"auto\"}\n                @close=${t=>t.stopPropagation()}\n                @slottable-request=${this.handleSlottableRequest}\n            >\n                <sp-popover\n                    @change=${t=>{this.handleSubmenuChange(t),this.open=!1}}\n                    @pointerenter=${this.handleSubmenuPointerenter}\n                    @pointerleave=${this.handleSubmenuPointerleave}\n                    @sp-menu-item-added-or-updated=${t=>t.stopPropagation()}\n                >\n                    ${e}\n                </sp-popover>\n            </sp-overlay>\n            <sp-icon-chevron100\n                class=\"spectrum-UIIcon-ChevronRight100 chevron icon\"\n            ></sp-icon-chevron100>\n        `):e}render(){return l`\n            ${this.selected?l`\n                      <sp-icon-checkmark100\n                          id=\"selected\"\n                          class=\"spectrum-UIIcon-Checkmark100 \n                            icon \n                            checkmark\n                            ${this.hasIcon?\"checkmark--withAdjacentIcon\":\"\"}\"\n                      ></sp-icon-checkmark100>\n                  `:c}\n            <slot name=\"icon\"></slot>\n            <div id=\"label\">\n                <slot id=\"slot\"></slot>\n            </div>\n            <slot name=\"description\"></slot>\n            <slot name=\"value\"></slot>\n            ${this.href&&this.href.length>0?super.renderAnchor({id:\"button\",ariaHidden:!0,className:\"button anchor hidden\"}):c}\n            ${this.renderSubmenu()}\n        `}manageSubmenu(e){this.submenuElement=e.target.assignedElements({flatten:!0})[0],this.hasSubmenu=!!this.submenuElement,this.hasSubmenu&&this.setAttribute(\"aria-haspopup\",\"true\")}handlePointerdown(e){e.target===this&&this.hasSubmenu&&this.open&&(this.addEventListener(\"focus\",this.handleSubmenuFocus,{once:!0}),this.overlayElement.addEventListener(\"beforetoggle\",this.handleBeforetoggle))}firstUpdated(e){super.firstUpdated(e),this.setAttribute(\"tabindex\",\"-1\"),this.addEventListener(\"pointerdown\",this.handlePointerdown),this.addEventListener(\"pointerenter\",this.closeOverlaysForRoot),this.hasAttribute(\"id\")||(this.id=`sp-menu-item-${b()}`)}closeOverlaysForRoot(){var e;this.open||(e=this.menuData.parentMenu)==null||e.closeDescendentOverlays()}handleSubmenuClick(e){e.composedPath().includes(this.overlayElement)||this.openOverlay()}handleSubmenuFocus(){requestAnimationFrame(()=>{this.overlayElement.open=this.open})}handlePointerenter(){if(this.leaveTimeout){clearTimeout(this.leaveTimeout),delete this.leaveTimeout;return}this.openOverlay()}handlePointerleave(){this.open&&!this.recentlyLeftChild&&(this.leaveTimeout=setTimeout(()=>{delete this.leaveTimeout,this.open=!1},L))}handleSubmenuChange(e){var t;e.stopPropagation(),(t=this.menuData.selectionRoot)==null||t.selectOrToggleItem(this)}handleSubmenuPointerenter(){this.recentlyLeftChild=!0}async handleSubmenuPointerleave(){requestAnimationFrame(()=>{this.recentlyLeftChild=!1})}handleSubmenuOpen(e){this.focused=!1;const t=e.composedPath().find(n=>n!==this.overlayElement&&n.localName===\"sp-overlay\");this.overlayElement.parentOverlayToForceClose=t}cleanup(){this.open=!1,this.active=!1}async openOverlay(){!this.hasSubmenu||this.open||this.disabled||(this.open=!0,this.active=!0,this.setAttribute(\"aria-expanded\",\"true\"),this.addEventListener(\"sp-closed\",this.cleanup,{once:!0}))}updateAriaSelected(){const e=this.getAttribute(\"role\");e===\"option\"?this.setAttribute(\"aria-selected\",this.selected?\"true\":\"false\"):(e===\"menuitemcheckbox\"||e===\"menuitemradio\")&&this.setAttribute(\"aria-checked\",this.selected?\"true\":\"false\")}setRole(e){this.setAttribute(\"role\",e),this.updateAriaSelected()}updated(e){var t,n;if(super.updated(e),e.has(\"label\")&&(this.label||typeof e.get(\"label\")!=\"undefined\")&&this.setAttribute(\"aria-label\",this.label||\"\"),e.has(\"active\")&&(this.active||typeof e.get(\"active\")!=\"undefined\")&&this.active&&((t=this.menuData.selectionRoot)==null||t.closeDescendentOverlays()),this.anchorElement&&(this.anchorElement.addEventListener(\"focus\",this.proxyFocus),this.anchorElement.tabIndex=-1),e.has(\"selected\")&&this.updateAriaSelected(),e.has(\"hasSubmenu\")&&(this.hasSubmenu||typeof e.get(\"hasSubmenu\")!=\"undefined\"))if(this.hasSubmenu){this.abortControllerSubmenu=new AbortController;const i={signal:this.abortControllerSubmenu.signal};this.addEventListener(\"click\",this.handleSubmenuClick,i),this.addEventListener(\"pointerenter\",this.handlePointerenter,i),this.addEventListener(\"pointerleave\",this.handlePointerleave,i),this.addEventListener(\"sp-opened\",this.handleSubmenuOpen,i)}else(n=this.abortControllerSubmenu)==null||n.abort()}connectedCallback(){super.connectedCallback(),this.triggerUpdate()}disconnectedCallback(){this.menuData.cleanupSteps.forEach(e=>e(this)),this.menuData={focusRoot:void 0,parentMenu:void 0,selectionRoot:void 0,cleanupSteps:[]},super.disconnectedCallback()}async triggerUpdate(){this.willDispatchUpdate||(this.willDispatchUpdate=!0,await new Promise(e=>requestAnimationFrame(e)),this.dispatchUpdate())}dispatchUpdate(){this.isConnected&&(this.dispatchEvent(new MenuItemAddedOrUpdatedEvent(this)),this.willDispatchUpdate=!1)}}r([o({type:Boolean,reflect:!0})],MenuItem.prototype,\"active\",2),r([o({type:Boolean,reflect:!0})],MenuItem.prototype,\"focused\",2),r([o({type:Boolean,reflect:!0})],MenuItem.prototype,\"selected\",2),r([o({type:String})],MenuItem.prototype,\"value\",1),r([o({type:Boolean,reflect:!0,attribute:\"has-submenu\"})],MenuItem.prototype,\"hasSubmenu\",2),r([u(\"slot:not([name])\")],MenuItem.prototype,\"contentSlot\",2),r([u('slot[name=\"icon\"]')],MenuItem.prototype,\"iconSlot\",2),r([o({type:Boolean,reflect:!0,attribute:\"no-wrap\",hasChanged(){return!1}})],MenuItem.prototype,\"noWrap\",2),r([u(\".anchor\")],MenuItem.prototype,\"anchorElement\",2),r([u(\"sp-overlay\")],MenuItem.prototype,\"overlayElement\",2),r([o({type:Boolean,reflect:!0})],MenuItem.prototype,\"open\",2);\n//# sourceMappingURL=MenuItem.js.map\n","\"use strict\";import{MenuItem as e}from\"./src/MenuItem.js\";import{defineElement as m}from\"@spectrum-web-components/base/src/define-element.js\";m(\"sp-menu-item\",e);\n//# sourceMappingURL=sp-menu-item.js.map\n"],"names":["t","e","p","Object","defineProperty","f","getOwnPropertyDescriptor","l","r","o","s","n","i","length","Menu","v","b","noDefaultSize","constructor","super","this","label","ignore","value","valueSeparator","_selected","selectedItems","childItemSet","Set","focusedItemIndex","focusInItemIndex","selectedItemsMap","Map","pointerUpTarget","descendentOverlays","handleSubmenuClosed","stopPropagation","composedPath","dispatchEvent","Event","bubbles","composed","handleSubmenuOpened","childItems","focused","find","d","has","indexOf","_hasUpdatedSelectedItemIndex","_willUpdateItems","cacheUpdated","Promise","resolve","resolveCacheUpdated","addEventListener","onSelectableItemAddedOrUpdated","onFocusableItemAddedOrUpdated","capture","handleClick","handlePointerup","handleFocusin","handleBlur","styles","y","isSubmenu","slot","selected","clear","forEach","menuData","selectionRoot","includes","push","set","requestUpdate","cachedChildItems","updateCachedMenuItems","menuSlot","assignedElements","flatten","entries","localName","querySelectorAll","splice","childRole","resolvedRole","resolvedSelects","ownRole","menuCascade","hadFocusRoot","item","focusRoot","ancestorWithSelects","currentAncestorWithSelects","selects","get","parentMenu","tabIndex","addChildItem","getAttribute","cleanupSteps","removeChildItem","setRole","join","add","handleItemsChanged","delete","updateComplete","focus","preventScroll","every","disabled","some","focusMenuItemByOffset","scrollIntoView","block","target","handlePointerBasedSelection","MouseEvent","button","Element","defaultPrevented","href","preventDefault","hasSubmenu","open","selectOrToggleItem","prepareToCleanUp","getRootNode","activeElement","findIndex","Math","max","startListeningToKeyboard","handleKeydown","contains","S","relatedTarget","stopListeningToKeyboard","removeAttribute","removeEventListener","handleDescendentOverlayOpened","overlayElement","handleDescendentOverlayClosed","slice","c","active","forwardFocusVisibleToItem","h","m","u","cancelable","keys","navigateWithinMenu","key","navigateBetweenRelatedMenus","isLTR","openOverlay","updateSelectedItemIndex","shiftKey","hasAttribute","document","click","requestAnimationFrame","once","unshift","map","updateCache","hasUpdated","all","updateItemFocus","closeDescendentOverlays","hasVisibleFocusInTree","setAttribute","id","handleSlotchange","triggerUpdate","renderMenuItemSlot","I","render","firstUpdated","children","childItemsUpdated","updated","selectsChanged","connectedCallback","then","disconnectedCallback","getUpdateComplete","a","type","String","reflect","prototype","Boolean","attribute","g","MenuItemAddedOrUpdatedEvent","WeakMap","_item","MenuItem","E","dependencyManager","_value","noWrap","handleSlottableRequest","submenuElement","T","name","data","proxyFocus","handleBeforetoggle","newState","manuallyKeepOpen","recentlyLeftChild","willDispatchUpdate","handleClickCapture","M","config","characterData","childList","subtree","callback","breakItemChildrenCache","C","itemText","itemChildren","content","reduce","textContent","trim","focusElement","hasIcon","slotContentIsPresent","iconSlot","contentSlot","icon","_itemChildren","cloneNode","classList","toggle","assignedNodes","shouldProxyClick","stopImmediatePropagation","anchorElement","renderSubmenu","manageSubmenu","handleEvent","import","loaded","handleSubmenuChange","handleSubmenuPointerenter","handleSubmenuPointerleave","renderAnchor","ariaHidden","className","handlePointerdown","handleSubmenuFocus","closeOverlaysForRoot","handleSubmenuClick","handlePointerenter","leaveTimeout","clearTimeout","handlePointerleave","setTimeout","handleSubmenuOpen","parentOverlayToForceClose","cleanup","updateAriaSelected","abortControllerSubmenu","AbortController","signal","abort","dispatchUpdate","isConnected","hasChanged"],"mappings":"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"}