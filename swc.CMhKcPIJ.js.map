{"version":3,"file":"swc.DBMolwiR.js","sources":["../../../packages/overlay/src/overlay-trigger.css.js","../../../packages/overlay/src/OverlayTrigger.js","../../../packages/overlay/overlay-trigger.js"],"sourcesContent":["\"use strict\";import{css as e}from\"@spectrum-web-components/base\";const s=e`\n    :host([disabled]) ::slotted([slot=trigger]){pointer-events:none}slot[name=longpress-describedby-descriptor]{display:none}\n`;export default s;\n//# sourceMappingURL=overlay-trigger.css.js.map\n","\"use strict\";var g=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var n=(p,a,e,o)=>{for(var t=o>1?void 0:o?v(a,e):a,l=p.length-1,i;l>=0;l--)(i=p[l])&&(t=(o?i(a,e,t):i(t))||t);return o&&t&&g(a,e,t),t};import{html as r,SpectrumElement as u}from\"@spectrum-web-components/base\";import{property as s,query as h,state as c}from\"@spectrum-web-components/base/src/decorators.js\";import f from\"./overlay-trigger.css.js\";export class OverlayTrigger extends u{constructor(){super(...arguments);this.content=\"click hover longpress\";this.offset=6;this.disabled=!1;this.receivesFocus=\"auto\";this.clickContent=[];this.longpressContent=[];this.hoverContent=[];this.targetContent=[]}static get styles(){return[f]}getAssignedElementsFromSlot(e){return e.assignedElements({flatten:!0})}handleTriggerContent(e){this.targetContent=this.getAssignedElementsFromSlot(e.target)}handleSlotContent(e){switch(e.target.name){case\"click-content\":this.clickContent=this.getAssignedElementsFromSlot(e.target);break;case\"longpress-content\":this.longpressContent=this.getAssignedElementsFromSlot(e.target);break;case\"hover-content\":this.hoverContent=this.getAssignedElementsFromSlot(e.target);break}}handleBeforetoggle(e){const{target:o}=e;let t;if(o===this.clickOverlayElement)t=\"click\";else if(o===this.longpressOverlayElement)t=\"longpress\";else if(o===this.hoverOverlayElement)t=\"hover\";else return;e.newState===\"open\"?this.open=t:this.open===t&&(this.open=void 0)}update(e){var o,t,l,i,d,m;e.has(\"clickContent\")&&(this.clickPlacement=((o=this.clickContent[0])==null?void 0:o.getAttribute(\"placement\"))||((t=this.clickContent[0])==null?void 0:t.getAttribute(\"direction\"))||void 0),e.has(\"hoverContent\")&&(this.hoverPlacement=((l=this.hoverContent[0])==null?void 0:l.getAttribute(\"placement\"))||((i=this.hoverContent[0])==null?void 0:i.getAttribute(\"direction\"))||void 0),e.has(\"longpressContent\")&&(this.longpressPlacement=((d=this.longpressContent[0])==null?void 0:d.getAttribute(\"placement\"))||((m=this.longpressContent[0])==null?void 0:m.getAttribute(\"direction\"))||void 0),super.update(e)}renderSlot(e){return r`\n            <slot name=${e} @slotchange=${this.handleSlotContent}></slot>\n        `}renderClickOverlay(){import(\"@spectrum-web-components/overlay/sp-overlay.js\");const e=this.renderSlot(\"click-content\");return this.clickContent.length?r`\n            <sp-overlay\n                id=\"click-overlay\"\n                ?disabled=${this.disabled||!this.clickContent.length}\n                ?open=${this.open===\"click\"&&!!this.clickContent.length}\n                .offset=${this.offset}\n                .placement=${this.clickPlacement||this.placement}\n                .triggerElement=${this.targetContent[0]}\n                .triggerInteraction=${\"click\"}\n                .type=${this.type!==\"modal\"?\"auto\":\"modal\"}\n                @beforetoggle=${this.handleBeforetoggle}\n                .receivesFocus=${this.receivesFocus}\n            >\n                ${e}\n            </sp-overlay>\n        `:e}renderHoverOverlay(){import(\"@spectrum-web-components/overlay/sp-overlay.js\");const e=this.renderSlot(\"hover-content\");return this.hoverContent.length?r`\n            <sp-overlay\n                id=\"hover-overlay\"\n                ?open=${this.open===\"hover\"&&!!this.hoverContent.length}\n                ?disabled=${this.disabled||!this.hoverContent.length||!!this.open&&this.open!==\"hover\"}\n                .offset=${this.offset}\n                .placement=${this.hoverPlacement||this.placement}\n                .triggerElement=${this.targetContent[0]}\n                .triggerInteraction=${\"hover\"}\n                .type=${\"hint\"}\n                @beforetoggle=${this.handleBeforetoggle}\n                .receivesFocus=${this.receivesFocus}\n            >\n                ${e}\n            </sp-overlay>\n        `:e}renderLongpressOverlay(){import(\"@spectrum-web-components/overlay/sp-overlay.js\");const e=this.renderSlot(\"longpress-content\");return this.longpressContent.length?r`\n            <sp-overlay\n                id=\"longpress-overlay\"\n                ?disabled=${this.disabled||!this.longpressContent.length}\n                ?open=${this.open===\"longpress\"&&!!this.longpressContent.length}\n                .offset=${this.offset}\n                .placement=${this.longpressPlacement||this.placement}\n                .triggerElement=${this.targetContent[0]}\n                .triggerInteraction=${\"longpress\"}\n                .type=${\"auto\"}\n                @beforetoggle=${this.handleBeforetoggle}\n                .receivesFocus=${this.receivesFocus}\n            >\n                ${e}\n            </sp-overlay>\n            <slot name=\"longpress-describedby-descriptor\"></slot>\n        `:e}render(){const e=this.content.split(\" \");return r`\n            <slot\n                id=\"trigger\"\n                name=\"trigger\"\n                @slotchange=${this.handleTriggerContent}\n            ></slot>\n            ${[e.includes(\"click\")?this.renderClickOverlay():r``,e.includes(\"hover\")?this.renderHoverOverlay():r``,e.includes(\"longpress\")?this.renderLongpressOverlay():r``]}\n        `}updated(e){if(super.updated(e),this.disabled&&e.has(\"disabled\")){this.open=void 0;return}}async getUpdateComplete(){return await super.getUpdateComplete()}}n([s()],OverlayTrigger.prototype,\"content\",2),n([s({reflect:!0})],OverlayTrigger.prototype,\"placement\",2),n([s()],OverlayTrigger.prototype,\"type\",2),n([s({type:Number})],OverlayTrigger.prototype,\"offset\",2),n([s({reflect:!0})],OverlayTrigger.prototype,\"open\",2),n([s({type:Boolean,reflect:!0})],OverlayTrigger.prototype,\"disabled\",2),n([s({attribute:\"receives-focus\"})],OverlayTrigger.prototype,\"receivesFocus\",2),n([c()],OverlayTrigger.prototype,\"clickContent\",2),n([c()],OverlayTrigger.prototype,\"longpressContent\",2),n([c()],OverlayTrigger.prototype,\"hoverContent\",2),n([c()],OverlayTrigger.prototype,\"targetContent\",2),n([h(\"#click-overlay\",!0)],OverlayTrigger.prototype,\"clickOverlayElement\",2),n([h(\"#longpress-overlay\",!0)],OverlayTrigger.prototype,\"longpressOverlayElement\",2),n([h(\"#hover-overlay\",!0)],OverlayTrigger.prototype,\"hoverOverlayElement\",2);\n//# sourceMappingURL=OverlayTrigger.js.map\n","\"use strict\";import{defineElement as e}from\"@spectrum-web-components/base/src/define-element.js\";import{OverlayTrigger as r}from\"./src/OverlayTrigger.js\";e(\"overlay-trigger\",r);\n//# sourceMappingURL=overlay-trigger.js.map\n"],"names":["s","e","g","Object","defineProperty","n","p","a","o","i","t","l","length","OverlayTrigger","u","constructor","super","arguments","this","content","offset","disabled","receivesFocus","clickContent","longpressContent","hoverContent","targetContent","styles","f","getAssignedElementsFromSlot","assignedElements","flatten","handleTriggerContent","target","handleSlotContent","name","handleBeforetoggle","clickOverlayElement","longpressOverlayElement","hoverOverlayElement","newState","open","update","d","m","has","clickPlacement","getAttribute","hoverPlacement","longpressPlacement","renderSlot","r","renderClickOverlay","import","placement","type","renderHoverOverlay","renderLongpressOverlay","render","split","includes","updated","getUpdateComplete","prototype","reflect","Number","Boolean","attribute","c","h"],"mappings":"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"}