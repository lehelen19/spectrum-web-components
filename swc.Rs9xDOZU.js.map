{"version":3,"file":"swc.D_Lm_oFt.js","sources":["../../../packages/modal/src/modal-wrapper.css.js","../../../packages/dialog/src/DialogBase.js","../../../packages/dialog/sp-dialog-base.js"],"sourcesContent":["\"use strict\";import{css as i}from\"@spectrum-web-components/base\";const e=i`\n    :host{box-sizing:border-box;inline-size:100vw;block-size:100vh;block-size:-webkit-fill-available;block-size:-moz-available;block-size:stretch;visibility:hidden;pointer-events:none;z-index:1;transition:visibility 0s linear var(--mod-modal-transition-animation-duration,var(--spectrum-modal-transition-animation-duration));justify-content:center;align-items:center;display:flex;position:fixed;inset-block-start:0;inset-inline-start:0}:host([open]){visibility:visible}@media only screen and (device-height<=350px),only screen and (device-width<=400px){:host([responsive]){inline-size:100%;block-size:100%;max-inline-size:100%;max-block-size:100%;border-radius:0}:host([responsive]){margin-block-start:0}}\n`;export default e;\n//# sourceMappingURL=modal-wrapper.css.js.map\n","\"use strict\";var p=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var o=(n,s,e,i)=>{for(var t=i>1?void 0:i?h(s,e):s,a=n.length-1,l;a>=0;a--)(l=n[a])&&(t=(i?l(s,e,t):l(t))||t);return i&&t&&p(s,e,t),t};import{html as d,nothing as u,SpectrumElement as c}from\"@spectrum-web-components/base\";import{property as r}from\"@spectrum-web-components/base/src/decorators.js\";import\"@spectrum-web-components/underlay/sp-underlay.js\";import\"@spectrum-web-components/button/sp-button.js\";import\"@spectrum-web-components/dialog/sp-dialog.js\";import m from\"@spectrum-web-components/modal/src/modal-wrapper.css.js\";import v from\"@spectrum-web-components/modal/src/modal.css.js\";import{FocusVisiblePolyfillMixin as f}from\"@spectrum-web-components/shared\";import{firstFocusableIn as b}from\"@spectrum-web-components/shared/src/first-focusable-in.js\";export class DialogBase extends f(c){constructor(){super(...arguments);this.dismissable=!1;this.open=!1;this.responsive=!1;this.transitionPromise=Promise.resolve();this.resolveTransitionPromise=()=>{};this.underlay=!1;this.animating=!1}static get styles(){return[m,v]}get dialog(){return this.shadowRoot.querySelector(\"slot\").assignedElements()[0]||this}async focus(){if(this.shadowRoot){const e=b(this.dialog);e?(e.updateComplete&&await e.updateComplete,e.focus()):this.dialog.focus()}else super.focus()}overlayWillCloseCallback(){return this.open?(this.close(),!0):this.animating}dismiss(){this.dismissable&&this.close()}handleClose(e){e.stopPropagation(),this.close()}close(){this.open=!1}dispatchClosed(){this.dispatchEvent(new Event(\"close\",{bubbles:!0}))}handleTransitionEvent(e){this.dispatchEvent(new TransitionEvent(e.type,{bubbles:!0,composed:!0,propertyName:e.propertyName}))}handleUnderlayTransitionend(e){!this.open&&e.propertyName===\"visibility\"&&this.resolveTransitionPromise(),this.handleTransitionEvent(e)}handleModalTransitionend(e){(this.open||!this.underlay)&&this.resolveTransitionPromise(),this.handleTransitionEvent(e)}update(e){e.has(\"open\")&&e.get(\"open\")!==void 0&&(this.animating=!0,this.transitionPromise=new Promise(i=>{this.resolveTransitionPromise=()=>{this.animating=!1,i()}}),this.open||this.dispatchClosed()),super.update(e)}renderDialog(){return d`\n            <slot></slot>\n        `}render(){return d`\n            ${this.underlay?d`\n                      <sp-underlay\n                          ?open=${this.open}\n                          @close=${this.dismiss}\n                          @transitionrun=${this.handleTransitionEvent}\n                          @transitionend=${this.handleUnderlayTransitionend}\n                          @transitioncancel=${this.handleTransitionEvent}\n                      ></sp-underlay>\n                  `:u}\n            <div\n                class=\"modal ${this.mode}\"\n                @transitionrun=${this.handleTransitionEvent}\n                @transitionend=${this.handleModalTransitionend}\n                @transitioncancel=${this.handleTransitionEvent}\n                @close=${this.handleClose}\n            >\n                ${this.renderDialog()}\n            </div>\n        `}updated(e){e.has(\"open\")&&this.open&&\"updateComplete\"in this.dialog&&\"shouldManageTabOrderForScrolling\"in this.dialog&&this.dialog.updateComplete.then(()=>{this.dialog.shouldManageTabOrderForScrolling()})}async getUpdateComplete(){const e=await super.getUpdateComplete();return await this.transitionPromise,e}}o([r({type:Boolean,reflect:!0})],DialogBase.prototype,\"dismissable\",2),o([r({type:Boolean,reflect:!0})],DialogBase.prototype,\"open\",2),o([r({type:String,reflect:!0})],DialogBase.prototype,\"mode\",2),o([r({type:Boolean})],DialogBase.prototype,\"responsive\",2),o([r({type:Boolean})],DialogBase.prototype,\"underlay\",2);\n//# sourceMappingURL=DialogBase.js.map\n","\"use strict\";import{DialogBase as e}from\"./src/DialogBase.js\";import{defineElement as a}from\"@spectrum-web-components/base/src/define-element.js\";a(\"sp-dialog-base\",e);\n//# sourceMappingURL=sp-dialog-base.js.map\n"],"names":["e","i","DialogBase","f","c","constructor","arguments","this","dismissable","open","responsive","transitionPromise","Promise","resolve","resolveTransitionPromise","underlay","animating","styles","m","v","dialog","shadowRoot","querySelector","assignedElements","focus","b","updateComplete","overlayWillCloseCallback","close","dismiss","handleClose","stopPropagation","dispatchClosed","dispatchEvent","Event","bubbles","handleTransitionEvent","TransitionEvent","type","composed","propertyName","handleUnderlayTransitionend","handleModalTransitionend","update","has","get","super","renderDialog","d","render","u","mode","updated","then","shouldManageTabOrderForScrolling","getUpdateComplete","o","r","Boolean","reflect","prototype","String","a"],"mappings":"gYAYA,MAAMA,EAASC,CAAA;;qIC2BF,MAAAC,UAAmBC,EAA0BC,IAAnDC,WAAAA,YAAAC,WAMHC,KAAOC,aAAc,EAGrBD,KAAOE,MAAO,EASdF,KAAOG,YAAa,EAEpBH,KAAQI,kBAAoBC,QAAQC,UAEpCN,KAAQO,yBAA2B,OAKnCP,KAAOQ,UAAW,EAmClBR,KAAQS,WAAY,EA7DpB,iBAA2BC,GACvB,MAAO,CAACC,EAAoBC,GA2BhC,UAAcC,GAaV,OAXSC,KAAAA,WAAWC,cAAc,QAChCC,mBAAmB,IAUJhB,IACrB,CAEA,WAAsBiB,GAClB,GAAIjB,KAAKc,WAAY,CACjB,MAAMrB,EAAiByB,EAAiBlB,KAAKa,QACzCpB,GACKA,EAAmC0B,sBAC9B1B,EAAe0B,eAEzB1B,EAAewB,SAEfjB,KAAKa,OAAOI,aAIVA,MAAAA,OAEd,CAIOG,wBAAAA,GACH,OAAUlB,KAAAA,MACVF,KAAKqB,SACE,GAFgBrB,KAAKS,SAGhC,CAEQa,OAAAA,GACCtB,KAAKC,aAGVD,KAAKqB,OAGCE,CAAAA,WAAAA,CAAY9B,GAClBA,EAAM+B,kBACNxB,KAAKqB,QAGFA,KAAAA,GACHrB,KAAKE,MAAO,CAChB,CAEQuB,cAAAA,GACJzB,KAAK0B,cACD,IAAIC,MAAM,QAAS,CACfC,SAAS,KAKbC,qBAAAA,CAAsBpC,GAC1BO,KAAK0B,cACD,IAAII,gBAAgBrC,EAAMsC,KAAM,CAC5BH,SAAS,EACTI,UAAU,EACVC,aAAcxC,EAAMwC,eAKtBC,CAAAA,2BAAAA,CAA4BzC,IAC7BO,KAAKE,MAA+B,eAAvBT,EAAMwC,cACpBjC,KAAKO,2BAETP,KAAK6B,sBAAsBpC,GAGrB0C,wBAAAA,CAAyB1C,IAC3BO,KAAKE,OAASF,KAAKQ,WACnBR,KAAKO,2BAETP,KAAK6B,sBAAsBpC,GAGZ2C,MAAAA,CAAO3C,GAClBA,EAAQ4C,IAAI,cAAmC,IAAxB5C,EAAQ6C,IAAI,UACnCtC,KAAKS,WAAY,EACjBT,KAAKI,kBAAoB,IAAIC,SAASX,IAClCM,KAAKO,yBAA2B,KAC5BP,KAAKS,WAAY,EACjBf,GACJ,CACJ,IACKM,KAAKE,MACNF,KAAKyB,kBAGbc,MAAMH,OAAO3C,EACjB,CAEU+C,YAAAA,GACN,OAAOC,CAAA;;UAKQC,MAAAA,GACf,OAAOD,CAAA;cACDzC,KAAKQ,SACDiC,CAAA;;kCAEgBzC,KAAKE;mCACJF,KAAKsB;2CACGtB,KAAK6B;2CACL7B,KAAKkC;8CACFlC,KAAK6B;;oBAGjCc;;+BAEa3C,KAAK4C;iCACH5C,KAAK6B;iCACL7B,KAAKmC;oCACFnC,KAAK6B;yBAChB7B,KAAKuB;;kBAEZvB,KAAKwC;;SAKAK,CAAAA,OAAAA,CAAQpD,GACnBA,EAAQ4C,IAAI,SACRrC,KAAKE,MAED,mBAAoBF,KAAKa,QACzB,qCAAsCb,KAAKa,QAE3Cb,KAAKa,OAAOM,eAAe2B,MAAK,KAC5B9C,KAAKa,OAAOkC,kCAChB,GAIhB,CAUA,uBAAyBC,GACrB,MAAMvD,QAAwBuD,MAAAA,oBAC9B,aAAMhD,KAAKI,kBACJX,CAEf,EA3LWwD,EAAA,CADNC,EAAS,CAAEnB,KAAMoB,QAASC,SAAS,KAL3BzD,EAMF0D,UAAA,eAGAJ,EAAA,CADNC,EAAS,CAAEnB,KAAMoB,QAASC,SAAS,KAR3BzD,EASF0D,UAAA,QAGAJ,EAAA,CADNC,EAAS,CAAEnB,KAAMuB,OAAQF,SAAS,KAX1BzD,EAYF0D,UAAA,QAMAJ,EAAA,CADNC,EAAS,CAAEnB,KAAMoB,WAjBTxD,EAkBF0D,UASAJ,cAAAA,GADNC,EAAS,CAAEnB,KAAMoB,WA1BTxD,EA2BF0D,UAAA,YCpDXE,EAAc,iBAAkB9D"}