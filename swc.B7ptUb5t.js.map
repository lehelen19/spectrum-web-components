{"version":3,"file":"swc.fTLcKK68.js","sources":["../../../tools/reactive-controllers/src/RovingTabindex.js"],"sourcesContent":["\"use strict\";import{FocusGroupController as i}from\"./FocusGroup.js\";export class RovingTabindexController extends i{constructor(){super(...arguments);this.managed=!0;this.manageIndexesAnimationFrame=0}set focused(e){e!==this.focused&&(super.focused=e,this.manageTabindexes())}get focused(){return super.focused}clearElementCache(e=0){cancelAnimationFrame(this.manageIndexesAnimationFrame),super.clearElementCache(e),this.managed&&(this.manageIndexesAnimationFrame=requestAnimationFrame(()=>this.manageTabindexes()))}manageTabindexes(){this.focused?this.updateTabindexes(()=>({tabIndex:-1})):this.updateTabindexes(e=>({removeTabIndex:e.contains(this.focusInElement)&&e!==this.focusInElement,tabIndex:e===this.focusInElement?0:-1}))}updateTabindexes(e){this.elements.forEach(a=>{const{tabIndex:n,removeTabIndex:s}=e(a);if(!s){this.focused?a!==this.elements[this.currentIndex]&&(a.tabIndex=n):a.tabIndex=n;return}a.removeAttribute(\"tabindex\");const t=a;t.requestUpdate&&t.requestUpdate()})}manage(){this.managed=!0,this.manageTabindexes(),super.manage()}unmanage(){this.managed=!1,this.updateTabindexes(()=>({tabIndex:0})),super.unmanage()}hostUpdated(){super.hostUpdated(),this.host.hasUpdated||this.manageTabindexes()}}\n//# sourceMappingURL=RovingTabindex.js.map\n"],"names":["RovingTabindexController","i","constructor","super","arguments","this","managed","manageIndexesAnimationFrame","focused","e","manageTabindexes","clearElementCache","cancelAnimationFrame","requestAnimationFrame","updateTabindexes","tabIndex","removeTabIndex","contains","focusInElement","elements","forEach","a","n","s","currentIndex","removeAttribute","t","requestUpdate","manage","unmanage","hostUpdated","host","hasUpdated"],"mappings":"sCAmBO,MAAMA,UAEHC,EAFHC,WAAAA,GAAAC,SAAAC,WAaHC,KAAQC,SAAU,EAElBD,KAAQE,4BAA8B,CAAA,CAZtC,WAAuBC,CAAQC,GACvBA,IAAYJ,KAAKG,UACrBL,MAAMK,QAAUC,EAChBJ,KAAKK,mBACT,CAEA,WAAuBF,GACnB,OAAOL,MAAMK,OACjB,CAMSG,iBAAAA,CAAkBF,EAAS,GAChCG,qBAAqBP,KAAKE,6BAC1BJ,MAAMQ,kBAAkBF,GACnBJ,KAAKC,UAEVD,KAAKE,4BAA8BM,uBAAsB,IACrDR,KAAKK,qBAEb,CAEAA,gBAAAA,GACQL,KAAKG,QACLH,KAAKS,kBAAiB,KAAA,CAASC,UAAa,MAE5CV,KAAKS,kBAAkBL,IACZ,CACHO,eACIP,EAAGQ,SAASZ,KAAKa,iBACjBT,IAAOJ,KAAKa,eAChBH,SAAUN,IAAOJ,KAAKa,eAAiB,GAC3C,KAKZJ,CAAAA,gBAAAA,CAAiBL,GACbJ,KAAKc,SAASC,SAASC,IACnB,MAAQN,SAAAO,EAAUN,eAAAO,GAAmBd,EAAYY,GACjD,IAAKE,EAQD,YAPIlB,KAAKG,QACDa,IAAOhB,KAAKc,SAASd,KAAKmB,gBAC1BH,EAAGN,SAAWO,GAGlBD,EAAGN,SAAWO,GAItBD,EAAGI,gBAAgB,YACnB,MAAMC,EAAYL,EAGdK,EAAUC,eAAeD,EAAUC,eAC3C,GACJ,CAESC,MAAAA,GACLvB,KAAKC,SAAU,EACfD,KAAKK,mBACLP,MAAMyB,QAGDC,CAAAA,QAAAA,GACLxB,KAAKC,SAAU,EACfD,KAAKS,kBAAiB,KAAO,CAAEC,SAAU,MACzCZ,MAAM0B,UAGDC,CAAAA,WAAAA,GACL3B,MAAM2B,cACDzB,KAAK0B,KAAKC,YACX3B,KAAKK,kBAGjB"}